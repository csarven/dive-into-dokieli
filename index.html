<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta charset="utf-8" />
        <title>dokieli: decentralised authoring, annotations and social notifications</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet alternate" href="https://dokie.li/media/css/lncs.css" media="all" title="LNCS" />
        <link rel="stylesheet" href="https://dokie.li/media/css/acm.css" media="all" title="ACM" />
        <link rel="stylesheet" href="https://dokie.li/media/css/do.css" media="all" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" media="all" />
        <link rel="stylesheet" href="https://dokie.li/media/css/editor.css" media="all" />
        <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
        <script src="https://dokie.li/scripts/RDFaProcessor.min.1.4.0.js"></script>
        <script src="https://dokie.li/scripts/simplerdf.js"></script>
        <script src="https://dokie.li/scripts/html.sortable.min.js"></script>
        <script src="https://dokie.li/scripts/medium-editor.min.js"></script>
        <script src="https://dokie.li/scripts/medium-editor-tables.min.js"></script>
        <script src="https://dokie.li/scripts/do.js"></script>
    </head>

    <body about="" typeof="schema:CreativeWork sioc:Post prov:Entity" prefix="rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns# rdfs: http://www.w3.org/2000/01/rdf-schema# owl: http://www.w3.org/2002/07/owl# xsd: http://www.w3.org/2001/XMLSchema# dcterms: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ v: http://www.w3.org/2006/vcard/ns# pimspace: http://www.w3.org/ns/pim/space# cc: http://creativecommons.org/ns# skos: http://www.w3.org/2004/02/skos/core# prov: http://www.w3.org/ns/prov# schema: http://schema.org/ rsa: http://www.w3.org/ns/auth/rsa# cert: http://www.w3.org/ns/auth/cert# cal: http://www.w3.org/2002/12/cal/ical# wgs: http://www.w3.org/2003/01/geo/wgs84_pos# org: http://www.w3.org/ns/org# biblio: http://purl.org/net/biblio# bibo: http://purl.org/ontology/bibo/ book: http://purl.org/NET/book/vocab# ov: http://open.vocab.org/terms/ doap: http://usefulinc.com/ns/doap# dbr: http://dbpedia.org/resource/ dbp: http://dbpedia.org/property/ sio: http://semanticscience.org/resource/ opmw: http://www.opmw.org/ontology/ deo: http://purl.org/spar/deo/ doco: http://purl.org/spar/doco/ cito: http://purl.org/spar/cito/ fabio: http://purl.org/spar/fabio/ oa: http://www.w3.org/ns/oa# as: http://www.w3.org/ns/activitystreams# sterms: http://www.w3.org/ns/solid/terms#">
        <main>
            <article about="" typeof="schema:ScholarlyArticle">
                <h1 property="schema:name">dokieli: decentralised authoring, annotations and social notifications</h1>

                <div id="authors">
                    <dl id="author-name">
                        <dt>Authors</dt>
                        <dd id="author-1" rel="bibo:authorList" inlist="" resource="http://csarven.ca/#i"><span about="" rel="schema:contributor schema:creator schema:publisher schema:author"><a about="http://csarven.ca/#i" typeof="schema:Person" rel="schema:url" property="schema:name" href="http://csarven.ca/">Sarven Capadisli</a></span><sup><a about="http://csarven.ca/#i" rel="schema:memberOf" resource="http://dbpedia.org/resource/University_of_Bonn" href="#author-org-1">1</a></sup><sup><a href="#author-email-1">‚úä</a></sup></dd>
                        <dd id="author-2" rel="bibo:authorList" inlist="" resource="http://rhiaro.co.uk/about#me"><span about="" rel="schema:contributor"><a about="http://rhiaro.co.uk/about#me" typeof="schema:Person" rel="schema:url" property="schema:name" href="http://rhiaro.co.uk/">Amy Guy</a></span><sup><a about="http://rhiaro.co.uk/about#me" rel="schema:memberOf" resource="http://dbpedia.org/resource/University_of_Edinburgh" href="#author-org-2">2</a></sup><sup><a href="#author-email-2">üê¶</a></sup></dd>
                        <dd id="author-3" rel="bibo:authorList" inlist="" resource="http://eis.iai.uni-bonn.de/SoerenAuer"><span about="" rel="schema:contributor"><a about="http://eis.iai.uni-bonn.de/SoerenAuer" typeof="schema:Person" rel="schema:url" property="schema:name" href="http://eis.iai.uni-bonn.de/SoerenAuer.html">S√∂ren Auer</a></span><sup><a about="http://eis.iai.uni-bonn.de/SoerenAuer" rel="schema:memberOf" resource="http://dbpedia.org/resource/University_of_Bonn" href="#author-org-1">1</a></sup><sup><a href="#author-email-3">‚öõ</a></sup></dd>
                    </dl>

                    <ul id="author-org">
                        <li id="author-org-1"><sup>1</sup><a about="http://dbpedia.org/resource/University_of_Bonn" typeof="schema:Organization" property="schema:name" rel="schema:url" href="http://uni-bonn.de/">University of Bonn</a>, Enterprise Information Systems Department, Bonn, Germany</li>
                        <li id="author-org-2"><sup>2</sup><a about="http://dbpedia.org/resource/University_of_Edinburgh" typeof="schema:Organization" property="schema:name" rel="schema:url" href="http://www.ed.ac.uk/">University of Edinburgh</a>, School of Informatics, Edinburgh, UK</li>
                    </ul>

                    <ul id="author-email">
                        <li id="author-email-1"><sup>‚úä</sup><a about="http://csarven.ca/#i" rel="schema:email" href="mailto:info@csarven.ca">info@csarven.ca</a></li>
                        <li id="author-email-2"><sup>üê¶</sup><a about="http://rhiaro.co.uk/about#me" rel="schema:email" href="mailto:amy@rhiaro.co.uk">amy@rhiaro.co.uk</a></li>
                        <li id="author-email-3"><sup>‚öõ</sup><a about="#S√∂renAuer" rel="schema:email" href="mailto:auer@cs.uni-bonn.de">auer@cs.uni-bonn.de</a></li>
                    </ul>
                </div>

                <dl id="document-identifier">
                    <dt>Document ID</dt>
                    <dd><a href="http://csarven.ca/dokieli">http://csarven.ca/dokieli</a></dd>
                </dl>

                <dl id="document-inbox">
                    <dt>Notifications Inbox</dt>
                    <dd><a rel="sterms:inbox" href="https://dokieli.databox.me/inbox/">dokieli/inbox</a></dd>
                </dl>

                <dl id="document-in-reply-to">
                    <dt>In Reply To</dt>
                    <dd><a rel="sioc:reply_of" href="http://events.linkeddata.org/ldow2016/">LDOW2016 Call for Papers</a></dd>
                </dl>

                <dl id="document-published">
                    <dt>Published</dt>
                    <dd><time datetime="2015-12-19T00:00:00Z" property="schema:datePublished" datatype="xsd:dateTime">2015-12-19</time></dd>
                </dl>

                <dl id="document-modified">
                    <dt>Modified</dt>
                    <dd><time datetime="2016-01-23T00:00:00Z" property="schema:dateModified" datatype="xsd:dateTime">2016-01-23</time></dd>
                </dl>

                <dl id="document-license">
                    <dt>License</dt>
                    <dd><a rel="schema:license" href="http://creativecommons.org/licenses/by-sa/4.0/" title="Creative Commons Attribution-ShareAlike 4.0 Unported">CC BY-SA 4.0</a></dd>
                </dl>

                <div id="content">
                    <section id="abstract">
                        <h2>Abstract</h2>
                        <div property="schema:abstract" datatype="rdf:HTML">
                            <p>In this article we present an architecture for progressively enhanced user-facing linked data applications, and demonstrate this architecture through an open source example implementation: <em>dokieli</em>. dokieli is a general purpose client-side application for document authoring, publication and interaction. Capabilities of the tool are enabled according to the needs and technical resources of the user. The editor is built on open Web standards and documents are represented as Linked Data, allowing: decentralised storage and data ownership; fine-grained semantic structure through HTML+RDFa; direct in-browser editing from an LDP-based personal data store; social interactions with documents (such as annotations and replies), and notifications thereof. This document itself is a dokieli instance, available to interact with at <code>http://csarven.ca/dokieli</code>.</p>
                        </div>
                    </section>

                    <section id="introduction" rel="schema:hasPart" resource="#introduction" inlist="">
                        <h2 property="schema:name">Introduction</h2>
                        <div property="schema:description" resource="#introduction" typeof="deo:Introduction" datatype="rdf:HTML">

                            <p><q cite="https://www.youtube.com/watch?v=1yLNGUeHapA&amp;t=50s">When I saw the computer, I said, 'at last we can escape from the prison of paper', and that was what my whole hypertext idea was about in 1960 and since. Contrarily, what did the other people do, they <strong>imitated paper</strong>, which to me seems totally insane</q> - <cite><a href="http://en.wikipedia.org/wiki/Ted_Nelson">Ted Nelson</a></cite> [<a class="ref" href="#ref-9">9</a>].</p>

                            <p>Our aim is to create and enhance opportunities for open knowledge exchange. Ideas and the conversations around them take the form of <em>prose</em>, which is widely published on the Web, and our hope is to iterate towards unleashing greater utility of this kind of content, whilst retaining its accessibility.</p>

                            <p>A long-lasting system must be <em>evolveable</em>. It is difficult to predict which technologies will endure over time, however we take inspiration from the <cite><a about="" rel="cito:agreesWith" href="http://www.w3.org/DesignIssues/Evolution.html">Evolution of the Web</a></cite> [<a class="ref" href="#ref-1">1</a>], and pursue features like simplicity, flexibility, decentralisation, interoperability, and tolerance.</p>

                            <p>We have combined commonplace online publishing practices with contemporary Web standards to create a novel architecture for <em>user-facing</em>, <em>progressively enhanced</em> Linked Data applications. We believe this has the potential to both proliferate high quality machine-readable data, and enhance human-friendly knowledge sharing on the Web. Our baseline technology of HTML+RDFa fosters accessibility by default, and serves as a foundation on which we can build layers of functionality until we reach the interactive social experiences that people expect from the Web today. This architecture is decentralised, affording users greater control of their data, and optionally enhanced through use of the <em>Solid</em> platform.</p>

                            <p>We explore the feasibility of this architecture through an implementation, which serves as the focus of this article. dokieli is a client-side application for authoring, publishing and interaction with prose content. We discuss the problem space, existing standards and tools on which we have built, as well as specific implementation details of dokieli. Implementation is ongoing, and we conclude with lessons learnt so far and a discussion of the problems which remain to be solved.</p>
                        </div>
                    </section>

                    <section id="problem-space" rel="schema:hasPart" resource="#problem-space" inlist="">
                        <h2 property="schema:name">Problem space</h2>
                        <div property="schema:description" datatype="rdf:HTML">
                            <p>Our scope covers three primary areas: authoring and publication, annotation and social notifications, and multimodal semantic content and interactivity. We take a brief look at use cases from some existing, overlapping, work in these areas.</p>

                            <p>The W3C <a href="https://www.w3.org/Social/WG">Social Web Working Group</a> presents <a href="https://www.w3.org/wiki/Socialwg/Social_API/User_stories">user stories</a> for various common online social activities. Noting that all of these user stories are expected to work in a decentralised manner (with all participants using different technology stacks), we consider the use cases which involve creating and updating content which is intended to be shared with others; interacting with existing content; and content creators being notified when someone interacts with their content.</p>

                            <p>The W3C <a href="https://www.w3.org/annotation/">Web Annotation Working Group</a> and <a href="https://www.w3.org/dpub/IG/wiki/Main_Page">Digital Publishing Interest Group</a> put forward a set of <a href="https://www.w3.org/annotation/wiki/Use_Cases">use cases</a> for annotation activities. One intuitive use case for annotation is <a href="https://www.w3.org/TR/dpub-annotation-uc/#commenting-on-a-span-of-text">commenting on a span of text</a> (a reviewer annotates a sentence by suggesting that it needs citation).</p>

                            <p>The <a href="http://csarven.ca/call-for-linked-research">Linked Research initiative</a> [<a href=""></a>] takes a critical look at the current level of access to academic work, putting out a call for better presentation, discoverability and reuse of research objects. We keep in mind the proposed <a href="http://csarven.ca/enabling-accessible-knowledge#acid-test">acid test</a> [<a href=""></a>] to verify the openness, accessibility and flexibility of approaches to scholarly communication. This is intended to improve opportunities for knowledge acquisition and education through: fine-grained identification of arguments and concepts; linking for concept reuse and building information networks; embedding of machine-readable semantics for fast aggregation and remixing of work; interactive and executable interfaces for improved learnability.</p>

                            <p>These areas of interest cover anywhere from data-driven journalism, online news, scholarly articles and peer-reviews, to casual communication through blogging and social media, but the theme of widening participation through spreading of knowledge and ideas in accessible ways is central to our motivation.</p>

                            <p>We summarise these areas with a list of requirements that implementations of our architecture should meet.</p>

                            <div id="requirements" about="" rel="schema:hasPart" resource="#requirements">
                                <dl>
                                    <dt property="schema:name">Requirements</dt>
                                    <dd property="schema:description" datatype="rdf:HTML">
                                        <ul>
                                            <li>Publication and sharing of knowledge and ideas is encouraged with <em>user friendly</em> content creation interfaces.</li>
                                            <li>Discussion and commentary is promoted through integration of tools for <em>social interaction</em> and <em>notification</em>.</li>
                                            <li>Data is stored in a <em>decentralised</em> way, in a location that the creator controls.</li>
                                            <li>Data is <em>loosely coupled</em> with the applications used to create and view it, and machine-readable, so that it is <em>reusable</em> by other applications.</li>
                                            <li>Applications and data formats are <em>progressively enhanced</em> such that content is minimally accessible to users with different capabilities and technical resources.</li>
                                        </ul>
                                    </dd>
                                </dl>
                            </div>
                        </div>
                    </section>


                    <section id="related-work" rel="schema:hasPart" resource="#related-work" inlist="">
                        <h2 property="schema:name">Related Work</h2>
                        <div property="schema:description" datatype="rdf:HTML">
                            <p>There exists a variety of tooling for semantic content authoring, personal data storage and sharing, distribution of social notifications, and integration and linking of ideas and concepts. Here we discuss a non-exhaustive selection in an attempt to succinctly give an overview of the current landscape.</p>

                            <p id="googledocs-medium-authorea"><a href="https://docs.google.com/">Google Docs</a>, <a href="https://medium.com/">Medium</a>, and <a href="https://www.authorea.com/">Authorea</a> are Web applications for collaborative creation and publication of content which require account creations and data storage with centralised services. They allow multiple participants to annotate and hold discussions around the primary content; users must access their centralised accounts to be notified of updates to conversations, and data from both the main content and related discussion is confined to the service which was used to create it.</p>

                            <p id="hypothesis-genius"><a href="https://hypothes.is/">Hypothesis</a> and <a href="https://genius.com/">Genius</a> make it possible for users to leave annotations on different types of documents on the Web using a browser plugin or via a proxy. Annotations may be private or public, and can be threaded to form conversations around a piece of content. Despite allowing the attachment of annotations to resources hosted anywhere, they depend on centralised account creation and storage for the annotations themselves. Hypothesis is open source, with an API that uses the data model currently undergoing standardisation in the W3C Annotations Working Group, and may be self-hosted, but currently it is not possible to federate between different Hypothesis instances.</p>

                            <p id="wordpress-wordlift">WordPress is a free and open-source platform for article publication which can be self-hosted on a server controlled by the user. <a href="http://wordlift.it/">WordLift</a> [<a href="http://ceur-ws.org/Vol-1361/paper4.pdf"></a>] is a WordPress plugin for semantic editing which uses an API to enhance articles with machine-readable JSON-LD data, improving the reusability of content published this way.</p>

                            <p><a href="http://www.callimachusproject.org/">The Callimachus Project</a> [<a href="http://ceur-ws.org/Vol-905/BattleEtAl_COLD2012.pdf">The Callimachus Project: RDFa as a Web Template Language</a>] is a self-hosted server which provides a generic framework for setting up sites specifically to publish Linked Data. It employs a XHTML+RDFa template engine to generate Web pages by combining the template with SPARQL query results from an RDF database, facilitating human- and machine-friendly views of the content.</p>

                            <p id="loomp-rdface">Loomp [<a href="http://events.linkeddata.org/ldow2009/papers/ldow2009_paper4.pdf"></a>] and <a href="http://ali1k.com/rdface">RDFaCE</a> [<a href="http://svn.aksw.org/papers/2012/COMPSAC2012_RDFaCE/public.pdf"></a>] are semantic content authoring tools which respectively follow a top-down and bottom-up approach with HTML+RDFa. Loomp allows annotating terms with concepts from Linked Data ontologies, and creating relationships between annotated phrases. Loomp can be self-hosted, and uses a server-side triplestore. RDFaCE is a Web-based RDFa content editor based on the TinyMCE rich text editor. It supports different views for semantic content authoring and uses existing Semantic Web APIs to facilitate annotating and editing of RDFa content. RDFaCE uses on-the-fly client-side triple storage [<a href="http://www.sciencedirect.com/science/article/pii/S1570826813000498">User interfaces for semantic authoring of textual content</a>].</p>

                            <p>The tools which provide good collaborative editing UIs appear to do so at the expense of data ownership and interoperability; those which promote creation and publication of data in open reusable formats are lacking facilities for linking discourse and conversation to concepts published. What follows is a proposed architecture for bridging this gap which has a low setup cost.</p>
                        </div>
                    </section>

                    <section id="architecture" rel="schema:hasPart" resource="#architecture" inlist="">
                        <h2 property="schema:name">Architecture</h2>
                        <div property="schema:description" datatype="rdf:HTML">
                            <p>Articles are written to share knowledge. The architecture we have chosen enables this knowledge to be as widely accessible as possible; the capabilities of dokieli are designed such that they are enabled progressively and individually, according to the user's needs and technical resources at the time. The most minimal tooling required to read content produced with dokieli is a command-line interface or Line Mode Browser. Given a modern Web browser, Linked Data tooling, or an LDP-compatible server, documents and data can be consumed, created, connected and manipulated in more powerful and visually appealing ways.</p>

                            <p>In this section we describe the existing standards and protocols which provide the building blocks for our architecture, and how these pieces fit together to make this approach possible.</p>

                            <section id="data-format" rel="schema:hasPart" resource="#data-format" inlist="">
                                <h3 property="schema:name">Data format</h3>
                                <div property="schema:description" datatype="rdf:HTML">

                                    <p id="native-html-rdfa">The native serialisation for dokieli documents is HTML+RDFa. HTML enables human-readable articles by default; RDFa, which is particularly well suited to the longform content dokieli is used to create, augments the documents with a machine-readable structure. We consider content of a document to be of foremost importance, and RDFa allows authors to add semantic structure to their ideas <em>inline</em>. Alternative syntaxes such as Turtle, JSON-LD, and TriG may be embedded into HTML as raw data islands, though this causes unnecessary separation, and potential duplication and desynchronisation of data. dokieli uses these to compliment the prose but does not rely on them.</p>

                                    <p id="the-rule-of-least-power">This approach also satisfies <cite><a about="" rel="cito:agreesWith" href="http://www.w3.org/2001/tag/doc/leastPower.html">The Rule of Least Power</a></cite>, proposed by the <a href="https://www.w3.org/2001/tag/">W3C Technical Architecture Group</a>: <q cite="http://www.w3.org/2001/tag/doc/leastPower.html">when publishing on the Web, you should usually choose the least powerful or most easily analyzed language variant that‚Äôs suitable for the purpose.</q> This allows easy reuse of the content in ways previously unimagined by its original creators [<a class="ref" href="#ref-11">11</a>, <a href="#ref-12" class="ref">12</a>].</p>

                                </div>
                            </section>

                            <section id="identifiers" rel="schema:hasPart" resource="#identifiers" inlist="">
                                <h3 property="schema:name">Identifiers</h3>
                                <div property="schema:description" datatype="rdf:HTML">
                                    <p>As dokieli documents are published on the Web, they have their own URI. This can be used to refer unambiguously to the document for example in a list of publications by the author, or in indicating the subject of a reply. Further, any individual word, phrase, paragraph, or other subsection of a document can have its own unique identifier using a fragment URI. This enables responses to be targeted very specifically at parts of a document; when additional semantics are applied to relationships, we have the power to create links that say things like 'I like <em>this</em> concept', '<em>this</em> sentence should be clarified', 'this result disagrees with <em>those</em> conclusions'. Within dokieli documents, links can be created to external concepts in the Linked Open Data cloud, aggregating related topics and creating unambiguous references. The dokieli UI provides anchors for all fragments in the margins of a document.</p>
                                </div>
                            </section>

                            <section id="vocabularies" rel="schema:hasPart" resource="#vocabularies" inlist="">
                                <h3 property="schema:name">Vocabularies</h3>
                                <div property="schema:description" datatype="rdf:HTML">
                                    <p>dokieli does not mandate the use of any particular vocabularies as the content of an article dictates how it is best described. By default, dokieli documents make use of the following; these are replaced or more added at the discretion of the author.</p>

                                    <ul>
                                        <li>General-purpose: <a href="http://schema.org/">schema.org</a></li>
                                        <li>Publishing and referencing: <a href="http://purl.org/spar">SPAR Ontologies</a></li>
                                        <li>Annotations: <a href="http://www.w3.org/ns/oa">Web Annotations</a></li>
                                        <li>Social notifications: <a href="http://www.w3.org/ns/activitystreams">ActivityStreams</a> and <a href="http://purl.org/net/pingback/">Pingback</a></li>
                                        <li>Links to personal storage and user preferences: <a href="http://www.w3.org/ns/ldp">LDP</a> and <a href="https://github.com/solid/vocab">Solid</a></li>
                                    </ul>
                                </div>
                            </section>

                            <section id="distribution" rel="schema:hasPart" resource="#distribution" inlist="">
                                <h3 property="schema:name">Distribution</h3>
                                <div property="schema:description" datatype="rdf:HTML">
                                    <p id="default-ui">dokieli application logic, written in JavaScript, is distributed along with every document, ensuring all documents can be edited and interacted with. We consider this a <em>default</em> UI of a document, rather than the <em>required</em> one however, as the data can still be extracted and used in other contexts by other RDF-aware applications.</p>

                                    <p id="fault-tolerant">The progressive nature of dokieli documents is fault-tolerant. If the application scripts or stylesheets are not available, the content is still accessible, allowing continuous utility, albeit in a read-only mode, rather than failing completely. A single document in HTML+RDFa is able to retain all of its core content and semantics without external dependencies.</p>

                                    <p id="self-replicating">dokieli is <em>self-replicating</em>, in that the reader of a dokieli document can spawn an instance ‚Äî either a copy or a brand new empty document ‚Äî into their own storage space at the click of a button. There is no installation or setup process required to publish content.</p>
                                </div>
                            </section>

                            <section id="data-storage" rel="schema:hasPart" resource="#data-storage" inlist="">
                                <h3 property="schema:name">Data storage</h3>
                                <div property="schema:description" datatype="rdf:HTML">
                                    <p>The owner of a dokieli document has full control and a great deal of flexibility over where to store their article. There are no centralised silos or gatekeepers. However, the capabilities of the system in which a document is stored has an effect on the features which are enabled. At the simplest level, documents can be served from the local filesystem for individual use. To publish documents more widely, they can be hosted on an ordinary Web server, and disseminated with a URL.</p>

                                    <p>dokieli is compliant with <em>Solid</em>, a set of protocols and conventions based on the Linked Data Platform (LDP) W3C recommendations <mark>[cite]</mark>. This incorporates authentication, access control and read and write access to a personal datastore. Hosting a dokieli document on a Solid server allows the author to edit the document directly from a space they control, and grant permissions to collaborators to do so as well.</p>

                                    <p>An article is the subject of feedback and social interactions such as annotations and reviews. A Solid server can additionally be employed to host these interactions, either in a space owned by the author of the article, or in a more decentralised manner, by allowing a commenter to save their message in their <em>own</em> space. In the latter case, the author is able to configure an <em>inbox</em> on their own Solid server through the dokieli UI, to which notifications of new third-party interactions are sent. These interactions are then displayed alongside the original document, even if the document itself is hosted on a non-Solid Web server, and the article serves as a centrepiece for conversation with as many participants as are inclined to join.</p>
                                </div>
                            </section>

                            <section id="modes-of-operation" rel="schema:hasPart" resource="#modes-of-operation" inlist="">
                                <h3 property="schema:name">Modes of operation</h3>
                                <div property="schema:description" datatype="rdf:HTML">
                                    <p>The core capabilities of dokieli are enabled on a per-document basis, according to the technical resources available for that document. Different combinations of available resources give rise to different <em>modes</em> in which dokieli can operate.</p>
                                    <!---<p>XXX: Create SVGs</p>
                                    <figure id="figure-modes" about="#figure-modes" typeof="doco:FigureBox" rel="schema:hasPart">
                                        <img about="#figure-modes" typeof="doco:Figure" rel="schema:image" src="media/images/dokieli-use-cases.png" width="480" height="268"/>

                                        <figcaption about="#figure-label-modes" typeof="doco:FigureLabel" property="schema:description">Modes of operation.</figcaption>
                                    </figure>-->
                                    <section id="publishing" rel="schema:hasPart" resource="#publishing" inlist="">
                                        <h4 property="schema:name">Publishing</h4>
                                        <div property="schema:description" datatype="rdf:HTML">
                                            <p><strong>Read only:</strong> A dokieli instance may be hosted on anything that can serve HTML, including the local filesystem. Content is available without CSS and JavaScript (figure 1). With CSS but without JavaScript, different views are available for consuming media types and devices.</p>

                                            <figure>
                                                <img src="media/images/fig_modes-readonly.svg"/>
                                                <figcaption>Read only.</figcaption>
                                            </figure>

                                            <p><strong>Temporary edit:</strong> Hosted on anything that can serve HTML, including the local filesystem. With JavaScript enabled, content may be edited through a web browser and exported to save changes (figure 2).</p>
                                            <figure>
                                                <img src="media/images/fig_modes-edittemp.svg"/>
                                                <figcaption>Temporary edit with export to save.</figcaption>
                                            </figure>

                                            <p><strong>Local persistent edit:</strong> Hosted on anything that can serve HTML, including the local filesystem. Content may be edited through an in-browser JavaScript editor and in-browser Web Storage enabled to persist changes for a longer period (figure 3).</p>
                                            <figure>
                                                <img src="media/images/fig_modes-editlocal.svg"/>
                                                <figcaption>Persistent edit using Web Storage.</figcaption>
                                            </figure>

                                            <p><strong>Persistent edit:</strong> Hosted on a Solid server, edited through a web browser, with changes saved directly to the server (figure 4).</p>
                                            <figure>
                                                <img src="media/images/fig_modes-editsolid.svg"/>
                                                <figcaption>Persistent edit on a Solid server, with optional authentication.</figcaption>
                                            </figure>

                                            <p><strong>Data only:</strong> Hosted on anything that can serve HTML, content and metadata can be extracted using an RDFa parser and processed, remixed or re-displayed (figure 5).</p>
                                            <figure>
                                                <img src="media/images/fig_modes-dataonly.svg"/>
                                                <figcaption>Data only</figcaption>
                                            </figure>

                                        </div>
                                    </section>
                                    <section id="interacting" rel="schema:hasPart" resource="#interacting" inlist="">
                                        <h4 property="schema:name">Interacting</h4>
                                        <div property="schema:description" datatype="rdf:HTML">
                                            <p><strong>Centralised interactions:</strong> A dokieli instance is hosted on a Solid server, with a pointer to a space to store interactions (such as replies, annotations, likes) made by third-parties through the in-browser JavaScript editor (figure 6).</p>
                                            <figure>
                                                <img src="media/images/fig_modes-interactioncent.svg"/>
                                                <figcaption>Centralised interactions</figcaption>
                                            </figure>

                                            <p><strong>Decentralised interactions:</strong> Hosted on a Solid server, with an inbox to receive notifications so third-parties can store their interactions in their own dataspace (figure 7).</p>
                                            <figure>
                                                <img src="media/images/fig_modes-interactiondecent.svg"/>
                                                <figcaption>Decentralised interactions</figcaption>
                                            </figure>

                                            <p><strong>Decoupled interactions:</strong> Hosted on anything that can serve HTML, with link to a notifications inbox on a Solid server, and third-parties can store their interactions in their own dataspace (figure 8).</p>
                                            <figure>
                                                <img src="media/images/fig_modes-interactiondecoup.svg"/>
                                                <figcaption>Decoupled interactions</figcaption>
                                            </figure>
                                        </div>
                                    </section>
                                </div>
                            </section>
                        </div>
                    </section>

                    <section id="features" rel="schema:hasPart" resource="#features" inlist="">
                        <h2 property="schema:name">Implementation</h2>
                        <div property="schema:description" datatype="rdf:HTML">
                            <p><a href="https://github.com/linkeddata/dokieli">dokieli is open source</a> and available to try at <code><a href="https://dokie.li/">https://dokie.li/</a></code> (or at any instance on the Web). In this section we describe specific features which meet the uses cases outlined previously.</p>

                            <section id="semantics" rel="schema:hasPart" resource="#features" inlist="">
                                <h3 property="schema:name">Semantics and linking</h3>
                                <div property="schema:description" datatype="rdf:HTML">
                                    <p>The data format of dokieli documents is designed to encourage machine-readable description of ideas and knowledge, which becomes particularly powerful when these individual ideas can be linked to each other with semantically meaningful relationships. A document author can assign a URI to concepts at any level, permitting reference to the document as a whole, a single phrase, or anything in between. Concepts within a single document can be related to each other with the appropriate RDF properties, as well as creating specific relations with external resources. dokieli takes a bottom-up approach to semantic content authoring <mark>[cite]</mark>; figure # shows our user interface for this, whereby the author selects some text, chooses the subject, predicate and object of a statement, and the application inserts the data as RDFa, and if necessary generates a new URI fragment for the subject or object.</p>

                                    <p>In addition, metadata that does not easily fit into prose (for example, nanopublications [cite]) can be embedded as a single block of Turtle, JSON-LD, or TriG (figure #).</p>

                                    <p>Figure # shows a visualisation of internal and external concepts and relationships from a dokieli document.</p>

                                    <figure><figcaption>RDFA embedding screenshot</figcaption></figure>
                                    <figure><figcaption>data island embedding screenshot</figcaption></figure>
                                    <figure><figcaption>data visualisation</figcaption></figure>

                                    <p><mark>Maybe an example of embedding datacube into a table of results would be good here too</mark></p>
                                </div>
                            </section>

                            <section id="rich-editing" rel="schema:hasPart" resource="#rich-editing" inlist="">
                                <h3 property="schema:name">Rich editing</h3>
                                <div property="schema:description" datatype="rdf:HTML">
                                    <p id="editor">The current implementation of dokieli makes use of the open source <a href="https://github.com/yabwe/medium-editor">Medium Editor</a> for the features one would expect from a WYSIWYG editor (figure #). We have extended this with buttons for RDFAa embedding, annotations and other interactions. The edit menu itself is loosely coupled with the rest of the application logic, so the choice of edit menu can be changed in future if better libraries become available.</p>

                                    <p id="auto-numbering">Tables of contents, tables, and figures are automatically calculated from the document contents and displayed as in figure #. The user can also drag and drop here to conveniently re-order sections of the document. Similarly links within a document are automatically compiled into an academic reference list if required by the author.</p>

                                    <p id="stylesheets">dokieli comes with a number of stylesheets built in, and an author with CSS knowledge can create a new one of their own, or reuse existing styles from elsewhere. It is trivial for the user (whether author or reader of a document) to switch between available views to their preferred one, either through user-agent's built-in feature or through dokieli's menu.</p>
                                    <script>//<![CDATA[
                                    var actionViews = $('<span id="action-views" class="do">These buttons can also trigger the views in this article: </span>');
                                    var context = $('#stylesheets');
                                    context.after(actionViews);
                                    DO.U.showViews(actionViews);
                                    actionViews.find('h2').remove();
                                    var nodeDetached = actionViews.detach();
                                    context.append(nodeDetached);
                                    //]]></script>
                                    <style>/*<![CDATA[*/
                                    @media screen {
                                        #action-views.do:before { content:" "; }
                                        #action-views.do:after { content:'.'; }
                                        #action-views.do, #action-views.do * { display:inline !important; }
                                        #action-views.do #views { margin-top:0; }
                                        #action-views.do #views:before { content:''; }
                                        #action-views.do li { margin-right:0; }
                                        #action-views.do li:before { content:', '; }
                                        #action-views.do li:first-child:before { content:''; }
                                    }
                                    /*]]>*/</style>

                                    <p><mark>Something about embedding runnable code / experiments / stats?</mark></p>

                                    <figure><figcaption>screenshot of edit menu</figcaption></figure>
                                    <figure><figcaption>screenshot of toc</figcaption></figure>
                                    <figure><figcaption>screenshot of views</figcaption></figure>
                                </div>
                            </section>

                            <section id="authentication-and-access-control" rel="schema:hasPart" resource="#authentication-and-access-control" inlist="">
                                <h3 property="schema:name">Authentication and access control</h3>
                                <div property="schema:description" datatype="rdf:HTML">
                                    <p>People can identify themselves to a dokieli document through <a href="">WebID-TLS</a>. Users with a browser certificate installed and a matching FOAF profile containing the certificate public key are authenticated against their own Solid server if found, with a fallback to a known Solid authentication endpoint. This allows the dokieli instance to write to any Solid-compliant dataspace which the user is authorised to write to. This is how users can, for example, save changes to a document, or store interactions such as comments. While dokieli does not currently offer a UI for granting access to collaborators on a document, authors can use other Solid applications (eg. <a href="">warp</a>) to manage permissions of data on their server, and thus allow other specific individuals (or the general public) to edit their articles.</p>

                                    <p>dokieli also displays an authenticated user's name and display picture if available in their profile. In future, we plan to take into account any preferences in a user's profile, as well as other documents they have previously published, to enhance and personalise the UI.</p>
                                    </div>
                            </section>

                            <section id="storage" rel="schema:hasPart" resource="#storage" inlist="">
                                <h3 property="schema:name">Storage</h3>
                                <div property="schema:description" datatype="rdf:HTML">
                                    <p>Articles may be stored on user's local filesystem or hosted from ordinary Web servers which can serve static HTML files, for example: university user pages, code repositories, personal or company webspace, or any file hosting.</p>

                                    <p>Articles can be edited in a Web browser, and then exported (fig. # %) to save changes. dokieli also makes use of <a href="https://www.w3.org/TR/webstorage/">Web Storage</a> in browsers with this capability, which can be enabled or disabled by the user (fig # %).</p>

                                    <p>A document stored on a Solid server is readable as a normal HTML page, and additionally editable directly on the server for authorised users (fig # % save button). The <em>new</em> (fig # %) and <em>save as</em> (fig # %) buttons prompt the user to choose a storage location before generating a blank new document or a copy of the current document respectively. If a user is already authenticated and their profile indicates where to find their a personal dataspace, dokieli presents a dataspace browser, through which the user can click to choose where to save (figure # browser). Non-authenticated users may simply type the URL of a storage location they believe they can access, browse the directories therein, and save if the location is publicly writeable. According to the Solid protocol, dokieli uses an <code>HTTP POST</code> or <code>PUT</code> to replicate the HTML+RDFa that constitutes an instance, into the chosen dataspace. The user has the option to copy media and scripts to their own space as well, link to them from a <abbr title="Content Delivery Network">CDN</abbr> or link to them from the document they are starting from (figure # browser w labelled baseurl).</p>

                                    <figure><figcaption>file browser woo (with baseurl selection labelled)</figcaption></figure>
                                </div>
                            </section>

                            <section id="interactions" rel="schema:hasPart" resource="#interactions" inlist="">
                                <h3 property="schema:name">Interactions</h3>
                                <div property="schema:description" datatype="rdf:HTML">
                                    <p>We support the rights of authors to own their data, and store and publish it where they feel most comfortable. This includes the social interactions users make around existing publications. Rather than centralising these interactions around the subject document, we took the decision to default to decentralisation of all content by allowing users to authenticate with their personal dataspace, and choose the location for their interactions at the point of making them. This gives rise to the need for a mechanism to notify the original author that their document has received some interaction. We do this by allowing document authors to specify an <em>inbox</em> for either their article as a whole, or any subsection with its own URI using the Solid <code>inbox</code> predicate. Inboxes are containers in a dataspace which may be appended to by anyone, and do not need to be on the same server as the document itself; if one article has multiple inboxes they can be distributed across as many dataspaces as is convenient for the author(s). When an annotation is made, dokieli follows the appropriate <code>inbox</code> link and writes a notification there (see Listing 1). When the document is loaded, links are followed to all inboxes in order to retrieve interactions there have been notifications about, so that these can be displayed along with the document <mark>(figure # displaying interactions)</mark>.</p>

                                    <p id="dokieli-notifications">Although providing enriched (meta)data is voluntary, provenance level data like the date in which the request was submitted, who submitted, and its license, can be purposed towards the verification process as well as for displaying. An example Solid inbox <strong class="highlight-notification">Notification</strong> is shown in Listing [<a href="#solid-notification">1</a>], in which <strong class="highlight-source">source</strong> is the URL of an annotation, <strong class="highlight-property">property</strong> is the type of relation to the <strong class="highlight-target">target</strong> (the conclusions section of an article).</p>

                                    <figure id="solid-notification" rel="schema:hasPart" resource="#solid-notification" class="listing">
<pre about="#solid-notification" typeof="fabio:Script" property="schema:description">
<code>@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#> .</code>
<code>@prefix solid: &lt;http://www.w3.org/ns/solid/terms#> .</code>
<code>@prefix pingback: &lt;http://purl.org/net/pingback/> .</code>
<code>@prefix schema: &lt;http://schema.org/> .</code>
<code>@prefix oa: &lt;http://www.w3.org/ns/oa#> .</code>
<code>@prefix c: &lt;http://creativecommons.org/licenses/by-sa/4.0/> .</code>
<code>&lt;> a solid:<strong class="highlight-notification">Notification</strong> ;</code>
<code>  pingback:<strong class="highlight-source">source</strong> &lt;http://example.net/foo/abc123> ;</code>
<code>  pingback:<strong class="highlight-property">property</strong> oa:hasTarget ;</code>
<code>  pingback:<strong class="highlight-target">target</strong> &lt;http://example.org/article#conclusions> ;</code>
<code>  schema:dateModified "2016-01-24T00:00:00Z"^^xsd:dateTime ;</code>
<code>  schema:creator &lt;http://csarven.ca/#i> ;</code>
<code>  schema:license c: .</code>
</pre>
                                        <figcaption property="schema:name">A Solid inbox notification.</figcaption>
                                    </figure>

                                    <p>dokieli itself does not offer a mechanism for authors to manage their notifications or choose which interactions appear, as other applications which are specialised for these tasks are under development as part of the Solid application ecosystem.</p>

                                    <p>An author can also opt to allow anonymous interactions with their documents by pointing to a publicly writeable storage location in their own space, and store interactions on behalf of their audience.</p>
                                 </div>
                            </section>

                            <figure><figcaption>annotated screenshot of the Do menu</figcaption></figure>
                        </div>
                    </section>

                    <section id="social-and-technical-impact" rel="schema:hasPart" resource="#social-and-technical-impact" inlist="">
                        <h2 about="#social-and-technical-impact" property="schema:name">Social and Technical Impact</h2>

                        <div about="#social-and-technical-impact" property="schema:description">
                            <section id="data-generation" rel="schema:hasPart" resource="#data-generation" inlist="">
                                <h3 property="schema:name">Data generation</h3>
                                <div property="schema:description" datatype="rdf:HTML">
                                    <p>Semantic structure in prose content is somewhat difficult to capture, and as a result the Linked Open Data cloud is lacking in data about knowledge and ideas expressed in this form. It is especially alarming that this is even the case for scholarly communication in Web science. Through automatic insertion of RDFa into articles and social interactions, and integration of a semantic annotation UI into a generic authoring application, we anticipate that a side effect of dokieli use will be an influx of previously uncommon but highly valuable Linked Open Data into the Web. Mining, reusing and remixing this data has the potential to give rise to new threads of conversation, connections between and perspectives on ideas and experiences. We are focussing on scholarly communication as a forum for encouraging knowledge sharing with dokieli through the <a href="http://csarven.ca/call-for-linked-research">Linked Research</a> [<a href=""></a>] initiative, as an area in which augmenting content with machine-readable semantics can really improve knowledge transfer to benefit researchers.</p>
                                </div>
                          </section>

                          <section id="data-ownership" rel="schema:hasPart" resource="#data-ownership" inlist="">
                              <h3 property="schema:name">Data ownership and reuse</h3>
                              <div property="schema:description" datatype="rdf:HTML">
                                  <p>Having more control over one's personal data brings a number of potential, though as yet not necessarily properly tested or fully understood, advantages. We advocate at least for having the <em>option</em> to choose which organisations or individuals hold and have access to personal data, and thus argue that our progressive approach to participation at least serves as a starting point to lower the barrier to entry for data ownership.</p>
  
                                  <p>A particular strength of the Linked Data approach is that data produced with dokieli is reusable by other applications, and easily integrated with data from other sources. This encourages an ecosystem of applications which are decoupled from user data, discouraging vendor lock-in as services must compete for user attention by providing value rather than hoarding information.</p>
                              </div>
                          </section>
                        </div>
                    </section>

                    <section id="conclusions" rel="schema:hasPart" resource="#conclusions" inlist="">
                        <h2 property="schema:name">Conclusions</h2>
                        <div about="#conclusions" property="schema:description" typeof="deo:Conclusion"  datatype="rdf:HTML">
                            <p>In this article we discussed dokieli, an implementation of a proposed architecture for realising a decentralised and accessible participatory knowledge space. By building on existing standards and tooling we contribute towards their ongoing improvement and help to advance the state-of-the-art in user-friendly Linked Data applications, and decentralised social Web technologies. We have shown that native Web technologies coupled with Linked Data enhancements provide a sound grounding for human- and machine-friendly content publishing, and that cutting edge work on personal datastores can be employed on top in a progressive manner. We reiterate that enabling this kind of complex functionality on an as-needed basis serves as a gateway for users and lowers the barrier to entry more effectively than an all-or-nothing approach.</p>

                            <p>We anticipate that a further implications of our work is expansion of the missing parts of the LOD cloud on scholarly communication, social interactions, and detailed discourse around ideas and experiences.</p>

                            <p id="challenges">Meeting the combination of needs we outlined here comes with many challenges. This is not a new problem, and there are ongoing efforts and initiatives advancing these along various fronts. Having an architecture and tooling in place does not necessarily translate to adoption of technologies or even principles. We have not addressed social, economic, ethical or legal issues around data ownership, decentralised identity or Web applications decoupled from user data. Nonetheless, our efforts iterate towards better understanding of what is needed to improve tooling and user interfaces, so that we may move this area forward alongside related initiatives, and gradually lower the barrier to entry for participation in a decentralised, social, semantic Web.</p>

                            <p>There is still work to be done. Development is in the open and we welcome you to <a href="https://gitter.im/linkeddata/dokieli">join the discussion</a>. Our next steps, small and large, are listed as <a href="https://github.com/linkeddata/dokieli/issues">issues</a> on our repository, but we conclude by describing some of the more prominent remaining problems to be addressed.</p>

                            <dl id="next-steps" rel="schema:hasPart" resource="#next-steps" inlist="">
                                <dt property="schema:name">Next steps</dt>
                                <dd about="#next-steps" property="schema:description" typeof="deo:FutureWork">
                                    <p id="sharing">Realtime collaboration on documents is an important capability that dokieli does not yet offer, but we aim to implement. The UI will allow authors to invite their collaborators to edit, as well as request feedback and peer-reviewers (<a href="https://github.com/linkeddata/dokieli/issues/120">issue 120</a>).</p>

                                    <p id="pinging">We must concretise a mechanism for adding articles to collections or archives when they are published, for example updating a listing of blog posts, adding new publications to university repositories or sending new works to libraries automatically (<a href="https://github.com/linkeddata/dokieli/issues/38">issue 38</a>).</p>

                                    <p id="provenance">Where applicable, scientific processes should be captured in a way that is machine-readable, encompassing workflow and provenance level data. This type of information plays an important role in reproducibility of work, and fostering trust and confidence in results (issues <a href="https://github.com/linkeddata/dokieli/issues/41">41</a> and <a href="https://github.com/linkeddata/dokieli/issues/119">119</a>).</p>

                                    <p id="data-shapes">In order to improve the utility of social notifications sent and received by dokieli documents, we are considering the W3C <a href="https://www.w3.org/TR/shacl/">Shapes Constraint Language</a> (SHACL) vocabulary to describe the constraints notifications in particular cirumstances. This will allow authors to use third-party applications to verify incoming notifications according to their own requirements (<a href="https://github.com/linkeddata/dokieli/issues/105">issue 105</a>).</p>
                                </dd>
                            </dl>

                            <p>There is a growing list of dokieli <a href="https://github.com/csarven/linked-research/wiki#examples-in-the-wild">articles in the wild</a>, that is, researchers taking the initiative to control their work through self-publication. We invite you to try dokieli yourself right now! Leave a comment on this paper at http://csarven.ca/dokieli, or spawn a new or a copy that you can edit yourself.</p>

                            <p>There are still many challenges up ahead. Let's <em>make it so!</em></p>
                        </div>
                    </section>

                    <section id="acknowledgements" rel="schema:hasPart" resource="#acknowledgements" inlist="">
                        <h2 property="schema:name">Acknowledgements</h2>
                        <div about="#acknowledgements" property="schema:description" typeof="deo:Acknowledgements" datatype="rdf:HTML">
                            <p>Special thanks to our colleagues at <a href="http://mit.edu/">MIT</a>/<a href="https://www.w3.org/">W3C</a>; <a href="https://deiu.me/profile">Andrei Sambra</a>, <a href="https://www.w3.org/People/Sandro/">Sandro Hawke</a>, <a href="http://nicola.io/">Nicola Greco</a> and <a href="https://www.w3.org/People/Berners-Lee/">Tim Berners-Lee</a>, as well as <a href="http://bblfish.net/">Henry Story</a> and <a href="http://melvincarvalho.com/#me">Melvin Carvalho</a>. We are also thankful to collaborate with colleagues at <a href="http://qcri.org.qa/">QCRI</a> through the <a href="http://crosscloud.org/">CrossCloud</a> project.</p>
                        </div>
                    </section>

                    <section id="references">
                        <h2>References</h2>
                        <div>
                            <ol>
                                <li id="ref-1">Evolution of the Web, <a rel="schema:citation cito:citesAsRecommendedReading cito:citesAsSourceDocument" href="http://www.w3.org/DesignIssues/Evolution.html">http://www.w3.org/DesignIssues/Evolution.html</a></li>
                                <li id="ref-2">Principles of Design, <a rel="schema:citation cito:citesAsSourceDocument cito:citesAsRecommendedReading" href="http://www.w3.org/DesignIssues/Principles.html#PLP">http://www.w3.org/DesignIssues/Principles.html#PLP</a></li>
                                <li id="ref-3">Berners-Lee, T., Mendelsohn, N.: The Rule of Least Power, <a rel="schema:citation cito:citesAsSourceDocument cito:citesAsRecommendedReading" href="http://www.w3.org/2001/tag/doc/leastPower.html">http://www.w3.org/2001/tag/doc/leastPower.html</a></li>
                                <li id="ref-4"><a rel="schema:citation cito:citesAsRecommendedReading" href="https://github.com/linkeddata/dokieli">https://github.com/linkeddata/dokieli</a></li>
                                <li id="ref-5">Khalili, A., Auer, S., Hladky, D.: The RDFa Content Editor ‚Äî From WYSIWYG to WYSIWYM, COMPSAC 2012:531-540 (2012), <a about="#related-work" rel="schema:citation cito:citesAsRelated" href="http://svn.aksw.org/papers/2012/COMPSAC2012_RDFaCE/public.pdf">http://svn.aksw.org/papers/2012/COMPSAC2012_RDFaCE/public.pdf</a></li>
                            </ol>
                        </div>
                    </section>

                </div>
            </article>

        </main>
    </body>
</html>
